# κ°λ° ν”„λ΅μ„Έμ¤ λ° μ•μ „ κ°€μ΄λ“

## π›΅οΈ μ¤λ¥ λ°©μ§€ ν”„λ΅μ„Έμ¤

ν¨μΉ μ‹κ·Έλ‹μ² λ―Έμ¤λ§¤μΉλ΅ μΈν• λ΅λ“ μ‹¤ν¨λ¥Ό λ°©μ§€ν•κΈ° μ„ν•΄ λ‹¤μ ν”„λ΅μ„Έμ¤λ¥Ό μ—„κ²©ν μ¤€μν•©λ‹λ‹¤.

### 1λ‹¨κ³„: λ©”μ„λ“ ν™•μΈ (Source Inspection)
μƒλ΅μ΄ ν¨μΉλ¥Ό μ‘μ„±ν•κΈ° μ „, λ°λ“μ‹ κ²μ„ μ†μ¤ μ½”λ“μ—μ„ λ©”μ„λ“μ **μ •ν™•ν• μ‹κ·Έλ‹μ²**λ¥Ό ν™•μΈν•©λ‹λ‹¤.
```bash
# λ©”μ„λ“ μ΄λ¦„κ³Ό νλΌλ―Έν„° ν™•μΈ
grep "void MethodName(" /Users/ben/Desktop/qud_korean/Assets/core_source/Path/To/Class.cs
```

### 2λ‹¨κ³„: ν¨μΉ μ‘μ„± (Implementation)
ν™•μΈλ μ‹κ·Έλ‹μ²λ¥Ό `HarmonyPatch` μ–΄νΈλ¦¬λ·°νΈμ— λ…μ‹ν•©λ‹λ‹¤.
```csharp
[HarmonyPatch("MethodName", new System.Type[] { typeof(Arg1Type), typeof(Arg2Type) })]
```

### 3λ‹¨κ³„: μλ™ κ²€μ¦ (Validation)
λ³€κ²½ μ‚¬ν•­μ„ μ €μ¥ν• ν›„, λ°°ν¬ μ „μ— λ°λ“μ‹ `validate-mod.sh`λ¥Ό μ‹¤ν–‰ν•©λ‹λ‹¤.
```bash
./validate-mod.sh
```
μ΄ μ¤ν¬λ¦½νΈλ” λ‹¤μμ„ μλ™μΌλ΅ ν™•μΈν•©λ‹λ‹¤:
- β… ν΄λμ¤ νμΌ μ΅΄μ¬ μ—¬λ¶€ λ° λ„¤μ„μ¤νμ΄μ¤ μΌμΉ
- β… λ©”μ„λ“ μ΄λ¦„ μ΅΄μ¬ μ—¬λ¶€
- β… **νλΌλ―Έν„° κ°μ λ° μ‹κ·Έλ‹μ² μΌμΉ μ—¬λ¶€** (μƒλ΅ μ¶”κ°€λ κΈ°λ¥)
- β… μ¤‘κ΄„νΈ λ° μ„Έλ―Έμ½λ΅  λ“± κΈ°λ³Έ λ¬Έλ²•

### 4λ‹¨κ³„: ν†µν•© λ°°ν¬ (Unified Deployment)
κ°λ³„ μ¤ν¬λ¦½νΈ μ‹¤ν–‰ λ€μ‹ , κ²€μ¦μ΄ ν¬ν•¨λ ν†µν•© λ°°ν¬ μ¤ν¬λ¦½νΈλ¥Ό μ‚¬μ©ν•©λ‹λ‹¤.
```bash
./sync-and-deploy.sh "μ»¤λ°‹ λ©”μ‹μ§€"
```
*μ£Όμ: κ²€μ¦ λ‹¨κ³„μ—μ„ μ—λ¬(`β—`)κ°€ λ°μƒν•λ©΄ λ°°ν¬μ™€ Git ν‘Έμ‹κ°€ μλ™μΌλ΅ μ°¨λ‹¨λ©λ‹λ‹¤.*

---

## π“ μ½”λ”© κ·μΉ™

### 1. λ„¤μ„μ¤νμ΄μ¤
- λ¨λ“  ν¨μΉ νμΌμ€ `QudKRTranslation.Patches` λ„¤μ„μ¤νμ΄μ¤λ¥Ό μ‚¬μ©ν•©λ‹λ‹¤.
- λ¨λ“  λ°μ΄ν„° νμΌμ€ `QudKRTranslation.Data` λ„¤μ„μ¤νμ΄μ¤λ¥Ό μ‚¬μ©ν•©λ‹λ‹¤.

### 2. Scope κ΄€λ¦¬
- μ „μ—­ ν¨μΉ(`ScreenBuffer`, `UITextSkin`)λ” λ°λ“μ‹ `ScopeManager.GetCurrentScope()`λ¥Ό ν™•μΈν•μ—¬ ν™μ„±ν™”λ κ²½μ°μ—λ§ μ‘λ™ν•΄μ•Ό ν•©λ‹λ‹¤.
- κ° ν™”λ©΄ ν¨μΉ(`Show_Prefix`)μ—μ„ ν•΄λ‹Ή ν™”λ©΄μ— λ§λ” λ°μ΄ν„°λ¥Ό `PushScope` ν•κ³ , `Postfix`μ—μ„ `PopScope` ν•©λ‹λ‹¤.

### 3. λ¦¬ν”λ ‰μ… μμ 
- κ°€λ¥ν•λ©΄ `typeof(ClassName)`μ„ μ‚¬μ©ν•μ—¬ μ•μ •μ„±μ„ ν™•λ³΄ν•©λ‹λ‹¤.
- ν΄λμ¤λ…μ΄ λ²„μ „λ³„λ΅ λ‹¤λ¥Έ κ²½μ°μ—λ§ `AccessTools.TypeByName()`μ„ μ‚¬μ©ν•λ” `TargetMethod()` λ°©μ‹μ„ μ‚¬μ©ν•©λ‹λ‹¤.

---

## π¨ λ¬Έμ  λ°μƒ μ‹ λ€μ‘

### "Undefined target method" μ—λ¬ λ°μƒ μ‹
1. `validate-mod.sh`μ μ¶λ ¥μ„ λ‹¤μ‹ ν™•μΈν•©λ‹λ‹¤.
2. μ—λ¬κ°€ λ°μƒν• ν΄λμ¤μ μ†μ¤ μ½”λ“λ¥Ό μ—΄μ–΄ μ¤λ²„λ΅λ”©λ λ©”μ„λ“κ°€ μλ”μ§€ ν™•μΈν•©λ‹λ‹¤.
3. `API_REFERENCE.md`μ— μ •μλ μ‹κ·Έλ‹μ²μ™€ μΌμΉν•λ”μ§€ λ€μ΅°ν•©λ‹λ‹¤.

### "Type or namespace name could not be found" μ—λ¬ λ°μƒ μ‹
1. `NAMESPACE_GUIDE.md`λ¥Ό μ°Έμ΅°ν•μ—¬ μ¬λ°”λ¥Έ `using` μ§€μ‹λ¬Έμ΄ ν¬ν•¨λμ—λ”μ§€ ν™•μΈν•©λ‹λ‹¤.
2. νΉν `ScreenBuffer`κ°€ `ConsoleLib.Console`μ— μλ”μ§€ λ‹¤μ‹ ν™•μΈν•©λ‹λ‹¤.
